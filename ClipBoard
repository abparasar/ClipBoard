
import numpy as np
from kneed import KneeLocator

scores = sorted(df['similarity_score'].tolist())
x = list(range(len(scores)))

knee = KneeLocator(x, scores, curve="convex", direction="increasing")
cutoff = scores[knee.knee]

print(f"Detected cutoff: {cutoff}")