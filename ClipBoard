from selenium import webdriver
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.chrome.options import Options
from webdriver_manager.chrome import ChromeDriverManager
import time

# Configure Chrome options
chrome_options = Options()
chrome_options.add_argument("--start-maximized")  # Start maximized
chrome_options.add_argument("--disable-infobars")  # Disable info bars
chrome_options.add_argument("--disable-extensions")  # Disable extensions
chrome_options.add_argument("--no-sandbox")
chrome_options.add_argument("--disable-dev-shm-usage")

# Path to your Chrome profile to preserve session and SSO
chrome_profile_path = "user-data-dir=/path/to/your/chrome/profile"
chrome_options.add_argument(chrome_profile_path)

# Set up WebDriver
service = Service(ChromeDriverManager().install())
driver = webdriver.Chrome(service=service, options=chrome_options)

# The URL you want to keep alive
url = "https://your-sso-website.com"

# Open the URL in the browser
driver.get(url)

# Keep the page alive by refreshing periodically (set time in seconds)
refresh_interval = 300  # Refresh every 5 minutes

try:
    while True:
        time.sleep(refresh_interval)
        driver.refresh()
except KeyboardInterrupt:
    # Graceful exit on interrupt
    print("Script stopped by user.")
finally:
    driver.quit()